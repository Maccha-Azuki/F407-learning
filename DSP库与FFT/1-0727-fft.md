# fft在f4上的具体实现

## 使用STM32提供的DSP库进行FFT

>Reference:

> 1. [【STM32】使用STM32提供的DSP库进行FFT（附详细代码）](https://blog.csdn.net/qq_38410730/article/details/90116695?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162736986516780357264808%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=162736986516780357264808&biz_id=0&spm=1018.2226.3001.4449)

> 2. [Hal库下使用32f4系列DSP运算功能](https://blog.csdn.net/weixin_41993663/article/details/107443888?depth_1-utm_source=distribute.pc_relevant_download.none-task-blog-2~default~BlogCommendFromBaidu~default-2.test_version_)

> 3. [STM32F4单片机ADC采样及ARM-DSP库的FFT](https://blog.csdn.net/QDchenxr/article/details/97624652?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522162736986516780264097814%2522%252C%2522scm%2522%253A%252220140713.130102334.pc%255Fall.%2522%257D&request_id=162736986516780264097814&biz_id=0&spm=1018.2226.3001.4449))

> 4. [STM32 HAL库 CUBEMX FPU 和 DSP库 使用](https://blog.csdn.net/yuleitao/article/details/105621492)

↑ 2和4 好文推荐

> 模拟信号经过ADC采样后变成数字信号，数字信号可以进行FFT运算，在频域中更容易分析信号的特征。本文将介绍如何用STM32F4的进行ADC采样，并利用ARMDSP库里的FFT算法对ADC采样值进行快速傅里叶变换。


![](assets/markdown-img-paste-20210727153547693.png)

Tips:
1. ADC+DMA;
2. CLK频率问题;
3. 基4-浮点-fft算法.


**配置工程时,要加入DPS library.**

## 使用 CubeMX 配置初始工程文件


![](assets/markdown-img-paste-20210727155015829.png)

![](assets/markdown-img-paste-20210727155026123.png)

![](assets/markdown-img-paste-20210727155041709.png)

![](assets/markdown-img-paste-20210727155612706.png)

![](assets/markdown-img-paste-20210727160123496.png)

## 为工程文件添加 DSP 库

-> 只需要在点选的时候选择Copy all就完了(最简单)
-> 也可以手动添加(比较麻烦)


![](assets/markdown-img-paste-20210727161302655.png)

↑ 源码所在地


![](assets/markdown-img-paste-20210727161457893.png)

笑死, 强迫症()

![](assets/markdown-img-paste-20210727161634680.png)

```
,__TARGET_FPU_VFP,ARM_MATH_CM4,__CC_ARM
```

↑ 分享一些优质强迫症患者
